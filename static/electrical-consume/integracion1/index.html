<html>
  <head>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script src="https://code.jquery.com/jquery-1.12.3.min.js"></script>
      <script src="materialize/js/materialize.min.js"></script> <!--cambiar ruta-->
      <link rel="stylesheet" href="materialize/css/materialize.min.css"> <!--cambiar ruta-->


    <script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawVisualization);


      function drawStuff() {
        // Some raw data (not necessarily accurate)

        $(document).ready(function () {
        var request = $.ajax({
          url:"/api/v1/electrical-consume/brazil?apikey=multiPlan_C4_sos-2016-01-asm_ag",
          type:"GET"
        })
        var request1 = $.ajax({
          url:"/api/v1/oil/Brazil?apikey=multiPlan_C4_sos-2016-01-fjfr_ag",
          type:"GET"
        });

        request1.done(function (data1){

          var dataToMap1=[];

          for (i=0;i<data1.length;i++){
            dataToMap1.push([data1[i].ePowerConsum]);
          }

          console.log(dataToMap1);

        request.done(function (data){

          var dataToMap = [["Year","Electrical Consume", "Oil"]];

          for (i=0;i<dataToMap1.length;i++){
            dataToMap.push([data[i].year, Number(data[i].diesel), Number(dataToMap1[i])]);
          }

          console.log(dataToMap);

      var data = google.visualization.arrayToDataTable(dataToMap);
/*
    var options = {
      title : 'Yearly Electrical Consume & Oil Consumer by Year in Brazil',
      vAxis: {title: '$'},
      hAxis: {title: 'Year', ticks: [2006, 2007, 2008, 2009, 2010, 2011]},
      seriesType: 'bars',
      series: {6: {type: 'line'}}
    };*/

    var options = {
          width: 800,
          chart: {
            title: 'Yearly Electrical Consume & Oil Consumer by Year in Brazil'
          },
          bars: 'horizontal', // Required for Material Bar Charts.
          series: {
            0: { axis: 'distance' }, // Bind series 0 to an axis named 'distance'.
            1: { axis: 'brightness' } // Bind series 1 to an axis named 'brightness'.
          },
          axes: {
            x: {
              distance: {label: 'parsecs'}, // Bottom x-axis.
              brightness: {side: 'top', label: 'apparent magnitude'} // Top x-axis.
            }
          }
        };

/*
    var chart = new google.visualization.ComboChart(document.getElementById('chart_div'));
    chart.draw(data, options);*/
    var chart = new google.charts.Bar(document.getElementById('dual_x_div'));
      chart.draw(data, options);
    };

    });
  });

  });
}
    </script>
  </head>
  <body style="background-color:#A9E2F3;">
</div>
<div class="card-panel"><center><h3>Impl2: API Co2 & my API</h3></center></div>
<div class="card-panel" style="padding-left: 20%;">
    <div id="chart_div" style="width: 900px; height: 500px;"></div>
  </div>

  </body>
</html>
